{"ast":null,"code":"import _regeneratorRuntime from\"/Users/shannelphilp/Desktop/Repositories/Shannel.philp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _createForOfIteratorHelper from\"/Users/shannelphilp/Desktop/Repositories/Shannel.philp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/createForOfIteratorHelper\";import _toConsumableArray from\"/Users/shannelphilp/Desktop/Repositories/Shannel.philp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray\";import _asyncToGenerator from\"/Users/shannelphilp/Desktop/Repositories/Shannel.philp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"/Users/shannelphilp/Desktop/Repositories/Shannel.philp/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect,useCallback}from\"react\";import Container from\"react-bootstrap/Container\";import Jumbotron from\"react-bootstrap/Jumbotron\";import Row from\"react-bootstrap/Row\";import ProjectCard from\"./ProjectCard\";import axios from\"axios\";var dummyProject={name:null,description:null,svn_url:null,stargazers_count:null,languages_url:null,pushed_at:null};var API=\"https://api.github.com\";// const gitHubQuery = \"/repos?sort=updated&direction=desc\";\n// const specficQuerry = \"https://api.github.com/repos/hashirshoaeb/\";\nvar Project=function Project(_ref){var heading=_ref.heading,username=_ref.username,length=_ref.length,specfic=_ref.specfic;var allReposAPI=\"\".concat(API,\"/users/\").concat(username,\"/repos?sort=updated&direction=desc\");var specficReposAPI=\"\".concat(API,\"/repos/\").concat(username);var dummyProjectsArr=new Array(length+specfic.length).fill(dummyProject);var _useState=useState([]),_useState2=_slicedToArray(_useState,2),projectsArray=_useState2[0],setProjectsArray=_useState2[1];var fetchRepos=useCallback(/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var repoList,response,_iterator,_step,repoName,_response;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:repoList=[];_context.prev=1;_context.next=4;return axios.get(allReposAPI);case 4:response=_context.sent;// slicing to the length\nrepoList=_toConsumableArray(response.data.slice(0,length));// adding specified repos\n_context.prev=6;_iterator=_createForOfIteratorHelper(specfic);_context.prev=8;_iterator.s();case 10:if((_step=_iterator.n()).done){_context.next=18;break;}repoName=_step.value;_context.next=14;return axios.get(\"\".concat(specficReposAPI,\"/\").concat(repoName));case 14:_response=_context.sent;repoList.push(_response.data);case 16:_context.next=10;break;case 18:_context.next=23;break;case 20:_context.prev=20;_context.t0=_context[\"catch\"](8);_iterator.e(_context.t0);case 23:_context.prev=23;_iterator.f();return _context.finish(23);case 26:_context.next=31;break;case 28:_context.prev=28;_context.t1=_context[\"catch\"](6);console.error(_context.t1.message);case 31:// setting projectArray\n// TODO: remove the duplication.\nsetProjectsArray(repoList);_context.next=37;break;case 34:_context.prev=34;_context.t2=_context[\"catch\"](1);console.error(_context.t2.message);case 37:case\"end\":return _context.stop();}}},_callee,null,[[1,34],[6,28],[8,20,23,26]]);})),[allReposAPI,length,specfic,specficReposAPI]);useEffect(function(){fetchRepos();},[fetchRepos]);return/*#__PURE__*/React.createElement(Jumbotron,{fluid:true,id:\"projects\",className:\"bg-light m-0\"},/*#__PURE__*/React.createElement(Container,{className:\"\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"display-4 pb-5 text-center\"},heading),/*#__PURE__*/React.createElement(Row,null,projectsArray.length?projectsArray.map(function(project,index){return/*#__PURE__*/React.createElement(ProjectCard,{key:\"project-card-\".concat(index),id:\"project-card-\".concat(index),value:project});}):dummyProjectsArr.map(function(project,index){return/*#__PURE__*/React.createElement(ProjectCard,{key:\"dummy-\".concat(index),id:\"dummy-\".concat(index),value:project});}))));};export default Project;","map":{"version":3,"sources":["/Users/shannelphilp/Desktop/Repositories/Shannel.philp/src/components/home/Project.jsx"],"names":["React","useState","useEffect","useCallback","Container","Jumbotron","Row","ProjectCard","axios","dummyProject","name","description","svn_url","stargazers_count","languages_url","pushed_at","API","Project","heading","username","length","specfic","allReposAPI","specficReposAPI","dummyProjectsArr","Array","fill","projectsArray","setProjectsArray","fetchRepos","repoList","get","response","data","slice","repoName","push","console","error","message","map","project","index"],"mappings":"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","sourcesContent":["import React, { useState, useEffect, useCallback } from \"react\";\nimport Container from \"react-bootstrap/Container\";\nimport Jumbotron from \"react-bootstrap/Jumbotron\";\nimport Row from \"react-bootstrap/Row\";\nimport ProjectCard from \"./ProjectCard\";\nimport axios from \"axios\";\n\nconst dummyProject = {\n  name: null,\n  description: null,\n  svn_url: null,\n  stargazers_count: null,\n  languages_url: null,\n  pushed_at: null,\n};\nconst API = \"https://api.github.com\";\n// const gitHubQuery = \"/repos?sort=updated&direction=desc\";\n// const specficQuerry = \"https://api.github.com/repos/hashirshoaeb/\";\n\nconst Project = ({ heading, username, length, specfic }) => {\n  const allReposAPI = `${API}/users/${username}/repos?sort=updated&direction=desc`;\n  const specficReposAPI = `${API}/repos/${username}`;\n  const dummyProjectsArr = new Array(length + specfic.length).fill(\n    dummyProject\n  );\n\n  const [projectsArray, setProjectsArray] = useState([]);\n\n  const fetchRepos = useCallback(async () => {\n    let repoList = [];\n    try {\n      // getting all repos\n      const response = await axios.get(allReposAPI);\n      // slicing to the length\n      repoList = [...response.data.slice(0, length)];\n      // adding specified repos\n      try {\n        for (let repoName of specfic) {\n          const response = await axios.get(`${specficReposAPI}/${repoName}`);\n          repoList.push(response.data);\n        }\n      } catch (error) {\n        console.error(error.message);\n      }\n      // setting projectArray\n      // TODO: remove the duplication.\n      setProjectsArray(repoList);\n    } catch (error) {\n      console.error(error.message);\n    }\n  }, [allReposAPI, length, specfic, specficReposAPI]);\n\n  useEffect(() => {\n    fetchRepos();\n  }, [fetchRepos]);\n\n  return (\n    <Jumbotron fluid id=\"projects\" className=\"bg-light m-0\">\n      <Container className=\"\">\n        <h2 className=\"display-4 pb-5 text-center\">{heading}</h2>\n        <Row>\n          {projectsArray.length\n            ? projectsArray.map((project, index) => (\n                <ProjectCard\n                  key={`project-card-${index}`}\n                  id={`project-card-${index}`}\n                  value={project}\n                />\n              ))\n            : dummyProjectsArr.map((project, index) => (\n                <ProjectCard\n                  key={`dummy-${index}`}\n                  id={`dummy-${index}`}\n                  value={project}\n                />\n              ))}\n        </Row>\n      </Container>\n    </Jumbotron>\n  );\n};\n\nexport default Project;\n"]},"metadata":{},"sourceType":"module"}