{"ast":null,"code":"/* eslint-disable react-hooks/exhaustive-deps */import{useRef}from\"react\";import{useIsomorphicLayoutEffect}from\"./useIsomorphicLayoutEffect\";var isBrowser=typeof window!==\"undefined\";function getScrollPosition(_ref){var element=_ref.element,useWindow=_ref.useWindow;if(!isBrowser)return{x:0,y:0};var target=element?element.current:document.body;var position=target.getBoundingClientRect();return useWindow?{x:window.scrollX,y:window.scrollY}:{x:position.left,y:position.top};}export function useScrollPosition(effect,deps,element,useWindow,wait){var position=useRef(getScrollPosition({useWindow:useWindow}));var throttleTimeout=null;var callBack=function callBack(){var currPos=getScrollPosition({element:element,useWindow:useWindow});effect({prevPos:position.current,currPos:currPos});position.current=currPos;throttleTimeout=null;};useIsomorphicLayoutEffect(function(){if(!isBrowser){return;}var handleScroll=function handleScroll(){if(wait){if(throttleTimeout===null){throttleTimeout=setTimeout(callBack,wait);}}else{callBack();}};window.addEventListener(\"scroll\",handleScroll);return function(){window.removeEventListener(\"scroll\",handleScroll);throttleTimeout&&clearTimeout(throttleTimeout);};},deps);}useScrollPosition.defaultProps={deps:[],element:false,useWindow:false,wait:null};","map":{"version":3,"sources":["/Users/shannelphilp/Desktop/Repositories/home/src/hooks/useScrollPosition.js"],"names":["useRef","useIsomorphicLayoutEffect","isBrowser","window","getScrollPosition","element","useWindow","x","y","target","current","document","body","position","getBoundingClientRect","scrollX","scrollY","left","top","useScrollPosition","effect","deps","wait","throttleTimeout","callBack","currPos","prevPos","handleScroll","setTimeout","addEventListener","removeEventListener","clearTimeout","defaultProps"],"mappings":"AAAA,gDACA,OAASA,MAAT,KAAuB,OAAvB,CACA,OAASC,yBAAT,KAA0C,6BAA1C,CAEA,GAAMC,CAAAA,SAAS,CAAG,MAAOC,CAAAA,MAAP,cAAlB,CAEA,QAASC,CAAAA,iBAAT,MAAmD,IAAtBC,CAAAA,OAAsB,MAAtBA,OAAsB,CAAbC,SAAa,MAAbA,SAAa,CACjD,GAAI,CAACJ,SAAL,CAAgB,MAAO,CAAEK,CAAC,CAAE,CAAL,CAAQC,CAAC,CAAE,CAAX,CAAP,CAEhB,GAAMC,CAAAA,MAAM,CAAGJ,OAAO,CAAGA,OAAO,CAACK,OAAX,CAAqBC,QAAQ,CAACC,IAApD,CACA,GAAMC,CAAAA,QAAQ,CAAGJ,MAAM,CAACK,qBAAP,EAAjB,CAEA,MAAOR,CAAAA,SAAS,CACZ,CAAEC,CAAC,CAAEJ,MAAM,CAACY,OAAZ,CAAqBP,CAAC,CAAEL,MAAM,CAACa,OAA/B,CADY,CAEZ,CAAET,CAAC,CAAEM,QAAQ,CAACI,IAAd,CAAoBT,CAAC,CAAEK,QAAQ,CAACK,GAAhC,CAFJ,CAGD,CAED,MAAO,SAASC,CAAAA,iBAAT,CAA2BC,MAA3B,CAAmCC,IAAnC,CAAyChB,OAAzC,CAAkDC,SAAlD,CAA6DgB,IAA7D,CAAmE,CACxE,GAAMT,CAAAA,QAAQ,CAAGb,MAAM,CAACI,iBAAiB,CAAC,CAAEE,SAAS,CAATA,SAAF,CAAD,CAAlB,CAAvB,CAEA,GAAIiB,CAAAA,eAAe,CAAG,IAAtB,CAEA,GAAMC,CAAAA,QAAQ,CAAG,QAAXA,CAAAA,QAAW,EAAM,CACrB,GAAMC,CAAAA,OAAO,CAAGrB,iBAAiB,CAAC,CAAEC,OAAO,CAAPA,OAAF,CAAWC,SAAS,CAATA,SAAX,CAAD,CAAjC,CACAc,MAAM,CAAC,CAAEM,OAAO,CAAEb,QAAQ,CAACH,OAApB,CAA6Be,OAAO,CAAPA,OAA7B,CAAD,CAAN,CACAZ,QAAQ,CAACH,OAAT,CAAmBe,OAAnB,CACAF,eAAe,CAAG,IAAlB,CACD,CALD,CAOAtB,yBAAyB,CAAC,UAAM,CAC9B,GAAI,CAACC,SAAL,CAAgB,CACd,OACD,CAED,GAAMyB,CAAAA,YAAY,CAAG,QAAfA,CAAAA,YAAe,EAAM,CACzB,GAAIL,IAAJ,CAAU,CACR,GAAIC,eAAe,GAAK,IAAxB,CAA8B,CAC5BA,eAAe,CAAGK,UAAU,CAACJ,QAAD,CAAWF,IAAX,CAA5B,CACD,CACF,CAJD,IAIO,CACLE,QAAQ,GACT,CACF,CARD,CAUArB,MAAM,CAAC0B,gBAAP,CAAwB,QAAxB,CAAkCF,YAAlC,EAEA,MAAO,WAAM,CACXxB,MAAM,CAAC2B,mBAAP,CAA2B,QAA3B,CAAqCH,YAArC,EACAJ,eAAe,EAAIQ,YAAY,CAACR,eAAD,CAA/B,CACD,CAHD,CAID,CArBwB,CAqBtBF,IArBsB,CAAzB,CAsBD,CAEDF,iBAAiB,CAACa,YAAlB,CAAiC,CAC/BX,IAAI,CAAE,EADyB,CAE/BhB,OAAO,CAAE,KAFsB,CAG/BC,SAAS,CAAE,KAHoB,CAI/BgB,IAAI,CAAE,IAJyB,CAAjC","sourcesContent":["/* eslint-disable react-hooks/exhaustive-deps */\nimport { useRef } from \"react\";\nimport { useIsomorphicLayoutEffect } from \"./useIsomorphicLayoutEffect\";\n\nconst isBrowser = typeof window !== `undefined`;\n\nfunction getScrollPosition({ element, useWindow }) {\n  if (!isBrowser) return { x: 0, y: 0 };\n\n  const target = element ? element.current : document.body;\n  const position = target.getBoundingClientRect();\n\n  return useWindow\n    ? { x: window.scrollX, y: window.scrollY }\n    : { x: position.left, y: position.top };\n}\n\nexport function useScrollPosition(effect, deps, element, useWindow, wait) {\n  const position = useRef(getScrollPosition({ useWindow }));\n\n  let throttleTimeout = null;\n\n  const callBack = () => {\n    const currPos = getScrollPosition({ element, useWindow });\n    effect({ prevPos: position.current, currPos });\n    position.current = currPos;\n    throttleTimeout = null;\n  };\n\n  useIsomorphicLayoutEffect(() => {\n    if (!isBrowser) {\n      return;\n    }\n\n    const handleScroll = () => {\n      if (wait) {\n        if (throttleTimeout === null) {\n          throttleTimeout = setTimeout(callBack, wait);\n        }\n      } else {\n        callBack();\n      }\n    };\n\n    window.addEventListener(\"scroll\", handleScroll);\n\n    return () => {\n      window.removeEventListener(\"scroll\", handleScroll);\n      throttleTimeout && clearTimeout(throttleTimeout);\n    };\n  }, deps);\n}\n\nuseScrollPosition.defaultProps = {\n  deps: [],\n  element: false,\n  useWindow: false,\n  wait: null,\n};\n"]},"metadata":{},"sourceType":"module"}